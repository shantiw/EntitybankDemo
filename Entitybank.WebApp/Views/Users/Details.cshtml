
@{
    ViewBag.Title = "User";
}

<h2>User</h2>

<hr />

@Html.Partial("_Details")

<hr />

<div class="row">
    <div class="col-sm-2">
        <label class="pull-right">Roles:</label>
    </div>
</div>

<div class="row">
    <div class="col-sm-offset-2 col-sm-10">
        <table id="table" class="table">
            <thead>
                <tr>
                    <th>Role Name</th>
                    <th>Display Name</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody data-plugin="renderer" class="invisible">
                <tr>
                    <td>{{RoleName}}</td>
                    <td>{{DisplayName}}</td>
                    <td>{{Descr}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@section scripts
{
    <script src="~/Scripts/moment.min.js"></script>
    <script src="~/frontend/xfront/js/xfront.js"></script>

    <script>
        $(document).ready(function () {
            $.getJSON('/api', {}, function (data, textStatus, jqXHR) {
                $('#details').renderer(data);
            });

            $.getJSON('/api?name=roles', {}, function (data, textStatus, jqXHR) {
                $('#table tbody').renderer(data);
            });
        });
    </script>
}